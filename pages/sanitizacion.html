<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sanitizaci√≥n de Datos en PHP</title>
</head>
<body>
    <h1>Sanitizaci√≥n de Datos en PHP</h1>
    <p>‚ú® Objetivo</p>
    <p>Aprender a sanitizar datos de entrada en PHP para prevenir vulnerabilidades.</p>

    <h2>üíª 1. Sanitizaci√≥n de Texto</h2>
    <p>C√≥digo:</p>
    <pre><code>$texto = $_POST['texto'];
if (isset($texto)) {
    $texto_sanitizado = filter_var($texto, FILTER_SANITIZE_STRING);
    echo "Texto sanitizado: $texto_sanitizado";
} else {
    echo "No se proporcion√≥ texto.";
}</code></pre>
    <p>Explicaci√≥n:</p>
    <p>Usamos <code>filter_var</code> con <code>FILTER_SANITIZE_STRING</code> para eliminar etiquetas HTML y caracteres especiales.</p>

    <h2>üö® 2. Sanitizaci√≥n de Email</h2>
    <p>C√≥digo:</p>
    <pre><code>$email = $_POST['email'];
if (isset($email)) {
    $email_sanitizado = filter_var($email, FILTER_SANITIZE_EMAIL);
    echo "Email sanitizado: $email_sanitizado";
} else {
    echo "No se proporcion√≥ email.";
}</code></pre>
    <p>Explicaci√≥n:</p>
    <p>Usamos <code>filter_var</code> con <code>FILTER_SANITIZE_EMAIL</code> para eliminar caracteres no v√°lidos del email.</p>

    <h2>üìÇ 3. Sanitizaci√≥n de URL</h2>
    <p>C√≥digo:</p>
    <pre><code>$url = $_POST['url'];
if (isset($url)) {
    $url_sanitizada = filter_var($url, FILTER_SANITIZE_URL);
    echo "URL sanitizada: $url_sanitizada";
} else {
    echo "No se proporcion√≥ URL.";
}</code></pre>
    <p>Explicaci√≥n:</p>
    <p>Usamos <code>filter_var</code> con <code>FILTER_SANITIZE_URL</code> para eliminar caracteres no v√°lidos de la URL.</p>

    <h2>üñºÔ∏è 4. Sanitizaci√≥n de Archivos Subidos</h2>
    <p>C√≥digo:</p>
    <pre><code>$archivo = $_FILES['archivo'];
if (isset($archivo) && $archivo['error'] === UPLOAD_ERR_OK) {
    $nombre_archivo = basename($archivo['name']);
    $nombre_archivo_sanitizado = preg_replace('/[^a-zA-Z0-9_\-\.]/', '', $nombre_archivo);
    move_uploaded_file($archivo['tmp_name'], "uploads/" . $nombre_archivo_s
anitizado);
    echo "Archivo subido y sanitizado: $nombre_archivo_sanitizado";
} else {
    echo "Error al subir el archivo.";
}</code></pre>
    <p>Explicaci√≥n:</p>
    <p>Usamos <code>preg_replace</code> para eliminar caracteres no permitidos del nombre del archivo antes de moverlo al directorio de destino.</p>
    
    <h2>üßÆ Resumen Comparativo</h2>
            <table>
        <thead>
            <tr>
                <th>Situaci√≥n</th>
                <th>Entrada maliciosa</th>
                <th>Resultado</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Texto con HTML</td>
                <td>&lt;script&gt;alert('Hackeado')&lt;/script&gt;</td>
                <td>Se elimina el script, mostrando solo el texto.</td>
            </tr>
            <tr>
                <td>Email con caracteres no v√°lidos</td>
                <td
                >
                    <code>
                    <script>alert('XSS');</script>
                    </code>
                </td>
                <td>Se elimina el script, dejando solo el email v√°lido.</td>
            </tr>
            <tr>
                <td>URL con caracteres no v√°lidos</td>
                <td>http://example.com/?q=<script>alert('XSS');</script></td>
                <td>Se elimina el script, dejando solo la URL v√°lida.</td>
            </tr>
            <tr>
                <td>Nombre de archivo con caracteres no permitidos</td>
                <td>archivo_malicioso.php?cmd=rm -rf /</td>
                <td>Se sanitiza el nombre, eliminando caracteres peligrosos.</td>
            </tr>
        </tbody>
    </table>
    <p>Recuerda siempre sanitizar y validar los datos de entrada para proteger tu aplicaci√≥n de ataques.</p>
    <p>¬°Gracias por aprender sobre sanitizaci√≥n de datos en PHP!</p>
    <p>Para m√°s informaci√≥n, visita la <a href="https://www.php.net/manual/es/filter.filters.sanitize.php">documentaci√≥n oficial de PHP</a>.</p>
</p>

</body>
</html>